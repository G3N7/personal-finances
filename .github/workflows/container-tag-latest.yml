  # This is a basic workflow to help you get started with Actions

name: Container Tag Latest

env:
  PROJECT_NAME: personal-finance

# Controls when the workflow will run
on:
  # Makes this callable
  workflow_call:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  tag-latest:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      - name: Tag Builder Latest
        run: |
          docker tag $REPO_NAME/$BUILDER_TAG:${{ github.sha }} $REPO_NAME/$BUILDER_TAG:${{ github.sha }}
          docker tag $REPO_NAME/$BUILDER_TAG:${{ github.sha }} $REPO_NAME/$BUILDER_TAG:${{ github.ref_name }}
          docker tag $REPO_NAME/$BUILDER_TAG:${{ github.sha }} $REPO_NAME/$BUILDER_TAG:latest



      # steps:
      # - name: Tag Builder Latest
      #   run: |
      #     for CONTAINER_TAG in $CONTAINER_TAGS
      #       docker tag $REPO_NAME/$CONTAINER_TAG:${{ github.sha }} $REPO_NAME/$CONTAINER_TAG:${{ github.sha }}
      #       docker tag $REPO_NAME/$CONTAINER_TAG:${{ github.sha }} $REPO_NAME/$CONTAINER_TAG:${{ github.ref_name }}
      #       docker tag $REPO_NAME/$CONTAINER_TAG:${{ github.sha }} $REPO_NAME/$CONTAINER_TAG:latest
      #     done